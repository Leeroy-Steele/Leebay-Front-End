"use strict";(self.webpackChunkcapstone_react_frontend=self.webpackChunkcapstone_react_frontend||[]).push([[439],{6856:function(n,e,t){t.d(e,{Z:function(){return u}});t(2791);var i=t(1614),r=t(890),o=t(7689),a=t(1087),s=t(1531),c=t(4554),d=t(533),l=t(184);function u(n){var e=(0,s.a)(),t=(0,o.s0)(),u=(0,o.TH)();return(0,l.jsx)("div",{children:(0,l.jsx)(i.Z,{sx:{py:.2,margin:"auto"},maxWidth:"md",children:null!==e.checkUserName()?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(c.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",height:25},children:[(0,l.jsx)(c.Z,{gridColumn:"span 8",children:(0,l.jsx)("span",{children:(0,l.jsxs)(r.Z,{mt:.5,variant:"body2",children:["User ",e.checkUserName()," /",n.pageName]})})}),(0,l.jsxs)(c.Z,{gridColumn:"span 4",textAlign:"right",children:[(0,l.jsxs)(d.Z,{underline:"hover",component:"button",onClick:function(){!function(){var e,i=(null===(e=u.state)||void 0===e?void 0:e.path)||n.linkTo;t(i,{replace:!1})}()},children:[n.linkName," "]}),(0,l.jsx)(d.Z,{underline:"hover",component:"button",onClick:function(){!function(){var n;console.log("logout code block"),e.logout();var i=(null===(n=u.state)||void 0===n?void 0:n.path)||"/";t(i,{replace:!0})}()},children:" / Logout"})]})]})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(r.Z,{mt:.5,variant:"body2",children:["Hi!",(0,l.jsx)(a.OL,{to:"/SignIn",children:" Sign in "}),"or",(0,l.jsx)(a.OL,{to:"/SignUp",children:" Register "})]})})})})}},9134:function(n,e,t){t.d(e,{Z:function(){return u}});t(2791);var i=t(4395),r=t(4554),o=t(4663),a=t(890),s=t(3400),c=t(5083),d=t(7689),l=t(184);function u(){var n=(0,d.s0)(),e=(0,d.TH)();return(0,l.jsx)(r.Z,{sx:{flexGrow:1},children:(0,l.jsx)(i.Z,{position:"static",children:(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(s.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",onClick:function(){!function(){var t,i=(null===(t=e.state)||void 0===t?void 0:t.path)||"/";n(i,{replace:!1})}()},sx:{mr:0},children:(0,l.jsx)(c.Z,{})}),(0,l.jsx)(a.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"LEEBAY"})]})})})}},7439:function(n,e,t){t.r(e),t.d(e,{default:function(){return W}});var i=t(9439),r=t(2791),o=t(7689),a=t(2388),s=t(1531),c=t(4554),d=t(7621),l=t(9504),u=t(2169),m=t(890),h=t(6151),x=t(493),p=t(4852),Z=t(9900),j=t(653),f=t(3044),v=t(4721),g=t(1588),b=t(6154),y=t(7197),k=t(1889),_=t(1614),P=t(2426),L=t.n(P),w=t(1087),S=t(8029),N=t(3466),U=t(8096),C=t(6856),E=t(9134),D=t(2739),R=t(792),A=t(2003),T=t(3433),I=t(7391),F=t(184);function B(n){var e=n.auctionID,t=(0,r.useState)([]),o=(0,i.Z)(t,2),d=o[0],l=o[1],u=(0,s.a)();(0,r.useEffect)((function(){var n={method:"get",url:"".concat(u.backendURL,"/find-all-auction-comments?auction_id=").concat(e),headers:{}};(0,a.Z)(n).then((function(n){l(n.data)})).catch((function(n){console.log(n)}))}),[]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(m.Z,{variant:"h6",gutterBottom:!0,textAlign:"center",sx:{m:2},children:"Auction Comments"}),d&&d.map((function(n,e){return(0,F.jsx)(k.ZP,{item:!0,xs:12,children:(0,F.jsxs)(x.Z,{children:[(0,F.jsx)(v.Z,{component:"li"}),(0,F.jsxs)(m.Z,{display:"flex",variant:"body2",sx:{m:2},children:[e+1+". ",n.comment_text,"....",n.user_name]})]})},e)})),u.checkUserID()&&(0,F.jsxs)(c.Z,{component:"form",onSubmit:function(n){n.preventDefault();var t=new FormData(n.currentTarget),i={user_id:Number(u.checkUserID()),auction_id:Number(e),comment_text:t.get("Description"),user_name:u.checkUserName()};a.Z.post("".concat(u.backendURL,"/add-auction-comment"),i).then((function(n){l((function(n){return[].concat((0,T.Z)(n),[i])}))})).catch((function(n){console.log(n)}))},noValidate:!0,children:[(0,F.jsx)(I.Z,{margin:"normal",required:!0,fullWidth:!0,id:"Description",label:"Comment",multiline:!0,minRows:3,maxRows:6,name:"Description",autoFocus:!0}),(0,F.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Post Comment"})]})]})}var H={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:300,bgcolor:"background.paper",border:"1px solid #000",boxShadow:24,p:8};function W(){var n=(0,s.a)(),e=(0,o.UO)().auction_id,t=(0,r.useState)([]),P=(0,i.Z)(t,2),T=P[0],I=P[1],W=(0,r.useState)(0),Y=(0,i.Z)(W,2),z=Y[0],M=Y[1],O=(0,r.useState)([]),$=(0,i.Z)(O,2),G=$[0],q=$[1],V=r.useState(!1),J=(0,i.Z)(V,2),K=J[0],Q=J[1];(0,r.useEffect)((function(){var t={method:"get",url:"".concat(n.backendURL,"/find-auction-item?auction_id=").concat(e),headers:{}};(0,a.Z)(t).then((function(n){I(n.data)})).catch((function(n){console.log(n)}));var i={method:"get",maxBodyLength:1/0,url:"".concat(n.backendURL,"/auction-bids?auction_id=").concat(e),headers:{"Content-Type":"application/json"}};a.Z.request(i).then((function(n){q(n.data.reverse()),G.pop()})).catch((function(n){console.log(n)}))}),[]);var X=function(t){t.preventDefault();var i=new FormData(t.currentTarget).get("bidPrice");if(i>T[0].current_price){var r=JSON.stringify({bidder_id:n.checkUserID(),bidder_userName:n.checkUserName(),auction_id:e,bid:i}),o={method:"patch",url:"".concat(n.backendURL,"/place-bid"),headers:{"Content-Type":"application/json"},data:r};(0,a.Z)(o).catch((function(n){console.log(n)})),M(i),Q(!0)}else alert("bid must be higher than "+T[0].current_price)};return(0,F.jsxs)("div",{children:[(0,F.jsx)(C.Z,{linkName:"Home",linkTo:"/"}),(0,F.jsx)(E.Z,{}),(0,F.jsx)(_.Z,{sx:{py:3,margin:"auto"},maxWidth:"sm",children:(0,F.jsx)(k.ZP,{container:!0,spacing:4,children:T.map((function(t,i){return(0,F.jsx)(k.ZP,{item:!0,xs:12,children:(0,F.jsxs)(d.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,F.jsx)(m.Z,{sx:{pt:2},variant:"h4",component:"h2",textAlign:"center",children:t.auction_title}),(0,F.jsx)(u.Z,{component:"img",sx:{pt:2},image:"".concat(n.backendURL,"/get-auction-image?fileName=").concat(t.image_path),alt:" Auction Image"}),(0,F.jsxs)(l.Z,{sx:{flexGrow:1},children:[(0,F.jsx)(m.Z,{gutterBottom:!0,variant:"body2",sx:{m:2},children:t.item_description}),(0,F.jsxs)(x.Z,{sx:{width:"100%",bgcolor:"background.paper"},children:[(0,F.jsx)(v.Z,{component:"li"}),(0,F.jsxs)(p.ZP,{children:[(0,F.jsx)(j.Z,{children:(0,F.jsx)(f.Z,{children:(0,F.jsx)(g.Z,{})})}),(0,F.jsx)(Z.Z,{primary:"Location",secondary:t.item_location})]}),(0,F.jsx)(v.Z,{variant:"inset",component:"li"}),(0,F.jsxs)(p.ZP,{children:[(0,F.jsx)(j.Z,{children:(0,F.jsx)(f.Z,{children:(0,F.jsx)(b.Z,{})})}),(0,F.jsx)(Z.Z,{primary:"Current Price $"+t.current_price})]}),G.map((function(n){return(0,F.jsxs)(p.ZP,{children:[(0,F.jsx)(j.Z,{}),(0,F.jsx)(Z.Z,{sx:{my:-.5},secondary:"$"+n.bid_price+" ..."+n.bidder_userName})]})})),(0,F.jsx)(v.Z,{variant:"inset",component:"li"}),(0,F.jsxs)(p.ZP,{children:[(0,F.jsx)(j.Z,{children:(0,F.jsx)(f.Z,{children:(0,F.jsx)(y.Z,{})})}),(0,F.jsx)(Z.Z,{primary:"Auction Ends",secondary:L()(t.end_date).format("DD.MM.YYYY HH:mm")})]})]}),(0,F.jsx)(v.Z,{}),null!==n.checkUserName()?(0,F.jsxs)(c.Z,{display:"flex",component:"form",onSubmit:X,noValidate:!0,sx:{mx:"auto",my:1,maxWidth:300},children:[(0,F.jsx)(U.Z,{fullWidth:!0,sx:{mt:2},children:(0,F.jsx)(S.Z,{id:"outlined-adornment-amount",startAdornment:(0,F.jsx)(N.Z,{position:"start",children:" $"}),name:"bidPrice",placeholder:t.current_price+1,sx:{height:37}})}),(0,F.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:2,mb:2},children:"Place Bid"})]}):(0,F.jsx)(F.Fragment,{}),(0,F.jsx)(c.Z,{sx:{m:5},children:(0,F.jsx)(B,{auctionID:e})})]})]})},t.auction_id)}))})}),(0,F.jsx)("div",{children:(0,F.jsx)(R.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:K,onClose:function(){return Q(!1)},closeAfterTransition:!0,BackdropComponent:D.Z,BackdropProps:{timeout:500},children:(0,F.jsx)(A.Z,{in:K,children:(0,F.jsxs)(c.Z,{sx:H,children:[(0,F.jsx)(m.Z,{id:"transition-modal-title",variant:"h6",component:"h2",children:"Your bid has been placed"}),(0,F.jsxs)(m.Z,{id:"transition-modal-description",sx:{mt:2},children:["You now lead the auction at $",z]}),(0,F.jsx)(c.Z,{sx:{py:3,margin:"auto"},children:(0,F.jsx)(w.OL,{to:"/",children:" Return to home "})})]})})})})]})}},3466:function(n,e,t){t.d(e,{Z:function(){return k}});var i=t(4942),r=t(3366),o=t(7462),a=t(2791),s=t(8182),c=t(4419),d=t(4036),l=t(890),u=t(3840),m=t(2930),h=t(6934),x=t(5878),p=t(1217);function Z(n){return(0,p.Z)("MuiInputAdornment",n)}var j,f=(0,x.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),v=t(1402),g=t(184),b=["children","className","component","disablePointerEvents","disableTypography","position","variant"],y=(0,h.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(n,e){var t=n.ownerState;return[e.root,e["position".concat((0,d.Z)(t.position))],!0===t.disablePointerEvents&&e.disablePointerEvents,e[t.variant]]}})((function(n){var e=n.theme,t=n.ownerState;return(0,o.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&(0,i.Z)({},"&.".concat(f.positionStart,"&:not(.").concat(f.hiddenLabel,")"),{marginTop:16}),"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})})),k=a.forwardRef((function(n,e){var t=(0,v.Z)({props:n,name:"MuiInputAdornment"}),i=t.children,h=t.className,x=t.component,p=void 0===x?"div":x,f=t.disablePointerEvents,k=void 0!==f&&f,_=t.disableTypography,P=void 0!==_&&_,L=t.position,w=t.variant,S=(0,r.Z)(t,b),N=(0,m.Z)()||{},U=w;w&&N.variant,N&&!U&&(U=N.variant);var C=(0,o.Z)({},t,{hiddenLabel:N.hiddenLabel,size:N.size,disablePointerEvents:k,position:L,variant:U}),E=function(n){var e=n.classes,t=n.disablePointerEvents,i=n.hiddenLabel,r=n.position,o=n.size,a=n.variant,s={root:["root",t&&"disablePointerEvents",r&&"position".concat((0,d.Z)(r)),a,i&&"hiddenLabel",o&&"size".concat((0,d.Z)(o))]};return(0,c.Z)(s,Z,e)}(C);return(0,g.jsx)(u.Z.Provider,{value:null,children:(0,g.jsx)(y,(0,o.Z)({as:p,ownerState:C,className:(0,s.Z)(E.root,h),ref:e},S,{children:"string"!==typeof i||P?(0,g.jsxs)(a.Fragment,{children:["start"===L?j||(j=(0,g.jsx)("span",{className:"notranslate",children:"\u200b"})):null,i]}):(0,g.jsx)(l.Z,{color:"text.secondary",children:i})}))})}))}}]);
//# sourceMappingURL=439.59e5695f.chunk.js.map