"use strict";(self.webpackChunkcapstone_react_frontend=self.webpackChunkcapstone_react_frontend||[]).push([[560],{6856:function(n,e,i){i.d(e,{Z:function(){return x}});i(2791);var t=i(1614),r=i(890),c=i(7689),s=i(1087),a=i(1531),o=i(4554),l=i(533),d=i(184);function x(n){var e=(0,a.a)(),i=(0,c.s0)(),x=(0,c.TH)();return(0,d.jsx)("div",{children:(0,d.jsx)(t.Z,{sx:{py:.2,margin:"auto"},maxWidth:"md",children:null!==e.checkUserName()?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(o.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",height:25},children:[(0,d.jsx)(o.Z,{gridColumn:"span 8",children:(0,d.jsx)("span",{children:(0,d.jsxs)(r.Z,{mt:.5,variant:"body2",children:["User ",e.checkUserName()," /",n.pageName]})})}),(0,d.jsxs)(o.Z,{gridColumn:"span 4",textAlign:"right",children:[(0,d.jsxs)(l.Z,{underline:"hover",component:"button",onClick:function(){!function(){var e,t=(null===(e=x.state)||void 0===e?void 0:e.path)||n.linkTo;i(t,{replace:!1})}()},children:[n.linkName," "]}),(0,d.jsx)(l.Z,{underline:"hover",component:"button",onClick:function(){!function(){var n;console.log("logout code block"),e.logout();var t=(null===(n=x.state)||void 0===n?void 0:n.path)||"/";i(t,{replace:!0})}()},children:" / Logout"})]})]})}):(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(r.Z,{mt:.5,variant:"body2",children:["Hi!",(0,d.jsx)(s.OL,{to:"/SignIn",children:" Sign in "}),"or",(0,d.jsx)(s.OL,{to:"/SignUp",children:" Register "})]})})})})}},9134:function(n,e,i){i.d(e,{Z:function(){return x}});i(2791);var t=i(4395),r=i(4554),c=i(4663),s=i(890),a=i(3400),o=i(5083),l=i(7689),d=i(184);function x(){var n=(0,l.s0)(),e=(0,l.TH)();return(0,d.jsx)(r.Z,{sx:{flexGrow:1},children:(0,d.jsx)(t.Z,{position:"static",children:(0,d.jsxs)(c.Z,{children:[(0,d.jsx)(a.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",onClick:function(){!function(){var i,t=(null===(i=e.state)||void 0===i?void 0:i.path)||"/";n(t,{replace:!1})}()},sx:{mr:0},children:(0,d.jsx)(o.Z,{})}),(0,d.jsx)(s.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"LEEBAY"})]})})})}},9560:function(n,e,i){i.r(e),i.d(e,{default:function(){return O}});var t=i(9439),r=i(2791),c=i(9134),s=i(6856),a=i(2388),o=i(7621),l=i(9504),d=i(2169),x=i(890),h=i(1889),u=i(1614),m=i(493),j=i(4852),Z=i(9900),p=i(653),g=i(3044),f=i(4721),v=i(1588),y=i(6154),_=i(7197),b=i(1087),k=i(2426),P=i.n(k),C=i(1531),A=i(184);function L(n){var e=(0,C.a)(),i=(0,r.useState)([]),c=(0,t.Z)(i,2),s=c[0],k=c[1],L={};return(0,r.useEffect)((function(){void 0!==n.bidder_id&&(L={method:"GET",url:"".concat(e.backendURL,"/find-all-auction-items?bidder_id=").concat(n.bidder_id)},a.Z.request(L).then((function(n){console.log(n.data[0].auction_id),k(n.data)})).catch((function(n){console.log(n)})))}),[]),(0,A.jsx)("div",{children:(0,A.jsx)(u.Z,{sx:{py:4,margin:"auto"},maxWidth:"lg",children:(0,A.jsx)(h.ZP,{container:!0,spacing:4,children:s.map((function(n,i){return(0,A.jsx)(h.ZP,{item:!0,xs:12,sm:6,md:4,xl:3,children:(0,A.jsxs)(o.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,A.jsx)(x.Z,{variant:"h5",component:"h2",textAlign:"center",children:n.auction_title}),(0,A.jsx)(b.OL,{to:"/ViewItem/".concat(n.auction_id),children:(0,A.jsx)(d.Z,{component:"img",sx:{pt:.5,height:300},image:"".concat(e.backendURL,"/get-auction-image?fileName=")+n.image_path,alt:"random"})}),(0,A.jsxs)(l.Z,{sx:{flexGrow:1},children:[(0,A.jsx)(x.Z,{sx:{minHeight:150},gutterBottom:!0,variant:"body2",children:n.item_description}),(0,A.jsxs)(m.Z,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[(0,A.jsx)(f.Z,{component:"li"}),(0,A.jsxs)(j.ZP,{children:[(0,A.jsx)(p.Z,{children:(0,A.jsx)(g.Z,{children:(0,A.jsx)(v.Z,{})})}),(0,A.jsx)(Z.Z,{primary:"Location",secondary:n.item_location})]}),(0,A.jsx)(f.Z,{variant:"inset",component:"li"}),(0,A.jsxs)(j.ZP,{children:[(0,A.jsx)(p.Z,{children:(0,A.jsx)(g.Z,{children:(0,A.jsx)(y.Z,{})})}),(0,A.jsx)(Z.Z,{primary:"Current Price",secondary:"$"+n.current_price})]}),(0,A.jsx)(f.Z,{variant:"inset",component:"li"}),(0,A.jsxs)(j.ZP,{children:[(0,A.jsx)(p.Z,{children:(0,A.jsx)(g.Z,{children:(0,A.jsx)(_.Z,{})})}),(0,A.jsx)(Z.Z,{primary:"Auction Ends",secondary:P()(n.end_date).format("DD.MM.YYYY HH:mm")})]})]})]})]})},n.auction_id)}))})})})}var N=i(6151),w=i(7689),H=i(3767),U=i(4554);function T(n){var e=(0,C.a)(),i=(0,w.s0)(),c=(0,w.TH)(),s=(0,r.useState)([]),k=(0,t.Z)(s,2),L=k[0],T=k[1],D={};(0,r.useEffect)((function(){E()}),[]);var E=function(){void 0!=n.seller_id&&(D={method:"GET",url:"".concat(e.backendURL,"/find-all-auction-items?user_id=").concat(n.seller_id)},a.Z.request(D).then((function(n){T(n.data)})).catch((function(n){console.log(n)})))};return(0,A.jsx)("div",{children:(0,A.jsx)(u.Z,{sx:{py:4,margin:"auto"},maxWidth:"lg",children:(0,A.jsx)(h.ZP,{container:!0,spacing:4,children:L.map((function(n,t){return(0,A.jsx)(h.ZP,{item:!0,xs:12,sm:6,md:4,xl:3,children:(0,A.jsxs)(o.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,A.jsx)(x.Z,{variant:"h5",component:"h2",textAlign:"center",children:n.auction_title}),(0,A.jsx)(b.OL,{to:"/ViewItem/".concat(n.auction_id),children:(0,A.jsx)(d.Z,{component:"img",sx:{pt:.5,height:300},image:"".concat(e.backendURL,"/get-auction-image?fileName=").concat(n.image_path),alt:"random"})}),(0,A.jsx)(U.Z,{sx:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gap:1,mx:"auto",mt:1},children:(0,A.jsxs)(H.Z,{spacing:1,direction:"row",gridColumn:"span 12",children:[(0,A.jsx)(N.Z,{size:"small",color:"warning",onClick:function(){!function(n){var e,t=(null===(e=c.state)||void 0===e?void 0:e.path)||"/UploadImage";i(t,{state:{auction_id:n},replace:!0})}(n.auction_id)},children:"Change Picture"}),(0,A.jsx)(N.Z,{size:"small",color:"warning",onClick:function(){!function(n){var e={method:"delete",url:"http://leebay-expressjs-backend-v2-dev602.ap-southeast-2.elasticbeanstalk.com/delete-auction-item",headers:{"Content-Type":"application/json"},data:JSON.stringify({auction_id:n,delete_image:!0})};(0,a.Z)(e).then((function(n){E()})).catch((function(n){console.log(n)}))}(n.auction_id)},children:"Delete Auction"})]})}),(0,A.jsxs)(l.Z,{sx:{flexGrow:1},children:[(0,A.jsx)(x.Z,{sx:{minHeight:150},gutterBottom:!0,variant:"body2",children:n.item_description}),(0,A.jsxs)(m.Z,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[(0,A.jsx)(f.Z,{component:"li"}),(0,A.jsxs)(j.ZP,{children:[(0,A.jsx)(p.Z,{children:(0,A.jsx)(g.Z,{children:(0,A.jsx)(v.Z,{})})}),(0,A.jsx)(Z.Z,{primary:"Location",secondary:n.item_location})]}),(0,A.jsx)(f.Z,{variant:"inset",component:"li"}),(0,A.jsxs)(j.ZP,{children:[(0,A.jsx)(p.Z,{children:(0,A.jsx)(g.Z,{children:(0,A.jsx)(y.Z,{})})}),(0,A.jsx)(Z.Z,{primary:"Current Price",secondary:"$"+n.current_price})]}),(0,A.jsx)(f.Z,{variant:"inset",component:"li"}),(0,A.jsxs)(j.ZP,{children:[(0,A.jsx)(p.Z,{children:(0,A.jsx)(g.Z,{children:(0,A.jsx)(_.Z,{})})}),(0,A.jsx)(Z.Z,{primary:"Auction Ends",secondary:P()(n.end_date).format("DD.MM.YYYY HH:mm")})]})]})]})]})},n.auction_id)}))})})})}var D=i(501),E=i(2752);function S(n){var e=(0,C.a)(),i=(0,r.useState)([]),c=(0,t.Z)(i,2),s=c[0],b=c[1];return(0,r.useEffect)((function(){var i={method:"GET",url:"".concat(e.backendURL,"/find-all-expired-auction-items?highest_bidder_id=").concat(n.buyer_id)};a.Z.request(i).then((function(n){b(n.data)})).catch((function(n){console.log(n)}))}),[]),(0,A.jsx)("div",{children:(0,A.jsx)(u.Z,{sx:{py:4,margin:"auto"},maxWidth:"lg",children:(0,A.jsx)(h.ZP,{container:!0,spacing:4,children:s.map((function(n,i){return(0,A.jsx)(h.ZP,{item:!0,xs:12,sm:6,md:4,xl:3,children:(0,A.jsxs)(o.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,A.jsx)(x.Z,{variant:"h5",component:"h2",textAlign:"center",children:n.auction_title}),(0,A.jsx)(d.Z,{component:"img",sx:{pt:.5,height:300},image:"".concat(e.backendURL,"/get-auction-image?fileName=").concat(n.image_path),alt:"random"}),(0,A.jsxs)(l.Z,{sx:{flexGrow:1},children:[(0,A.jsx)(x.Z,{sx:{minHeight:150},gutterBottom:!0,variant:"body2",children:n.item_description}),(0,A.jsxs)(m.Z,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[(0,A.jsx)(f.Z,{component:"li"}),(0,A.jsxs)(j.ZP,{children:[(0,A.jsx)(p.Z,{children:(0,A.jsx)(g.Z,{children:(0,A.jsx)(v.Z,{})})}),(0,A.jsx)(Z.Z,{primary:"Location",secondary:n.item_location})]}),(0,A.jsx)(f.Z,{variant:"inset",component:"li"}),(0,A.jsxs)(j.ZP,{children:[(0,A.jsx)(p.Z,{children:(0,A.jsx)(g.Z,{children:(0,A.jsx)(y.Z,{})})}),(0,A.jsx)(Z.Z,{primary:"Winning Bid",secondary:"$"+n.sold_price})]}),(0,A.jsx)(f.Z,{variant:"inset",component:"li"}),(0,A.jsxs)(j.ZP,{children:[(0,A.jsx)(p.Z,{children:(0,A.jsx)(g.Z,{children:(0,A.jsx)(_.Z,{})})}),(0,A.jsx)(Z.Z,{primary:"Ended",secondary:P()(n.end_date).format("DD.MM.YYYY HH:mm")})]}),(0,A.jsx)(f.Z,{component:"li"}),(0,A.jsxs)(j.ZP,{children:[(0,A.jsx)(p.Z,{children:(0,A.jsx)(g.Z,{children:(0,A.jsx)(D.Z,{})})}),(0,A.jsx)(Z.Z,{primary:"Seller Name",secondary:n.seller_user_name})]}),(0,A.jsx)(f.Z,{variant:"inset",component:"li"}),(0,A.jsxs)(j.ZP,{children:[(0,A.jsx)(p.Z,{children:(0,A.jsx)(g.Z,{children:(0,A.jsx)(E.Z,{})})}),(0,A.jsx)(Z.Z,{primary:"Seller Email",secondary:n.seller_email})]})]})]})]})},n.auction_id)}))})})})}var Y=i(9836),W=i(3382),R=i(3994),G=i(9281),I=i(5855),M=i(5527);function O(){var n=(0,C.a)(),e=(0,w.s0)(),i=(0,w.TH)(),o=n.checkUserName(),l=(0,r.useState)(""),d=(0,t.Z)(l,2),h=d[0],u=d[1],m=(0,r.useState)(null),j=(0,t.Z)(m,2),Z=j[0],p=j[1];function g(n,e){return{label:n,value:e}}(0,r.useEffect)((function(){if(o){var e=JSON.stringify({user_name:o}),i={method:"post",url:"".concat(n.backendURL,"/find-user"),headers:{"Content-Type":"application/json"},data:e};(0,a.Z)(i).then((function(n){u(n.data[0].email),p(n.data[0].user_id)})).catch((function(n){console.log(n)}))}}),[]);var f=[g("user name",o),g("email",h),g("user ID",Z)];return(0,A.jsxs)("div",{children:[(0,A.jsx)(s.Z,{pageName:" Profile",linkName:"Home ",linkTo:"/"}),(0,A.jsx)(c.Z,{}),(0,A.jsx)(x.Z,{sx:{textAlign:"center",py:2},variant:"h5",component:"div",children:"Profile Information"}),null!==Z&&(0,A.jsx)(U.Z,{textAlign:"center",sc:{p:1},children:(0,A.jsx)(N.Z,{onClick:function(){var t=JSON.stringify({user_id:n.checkUserID()}),r={method:"delete",url:"".concat(n.backendURL,"/delete-user"),headers:{"Content-Type":"application/json"},data:t};(0,a.Z)(r).then((function(t){var r;n.logout();var c=(null===(r=i.state)||void 0===r?void 0:r.path)||"/";e(c,{replace:!0})})).catch((function(n){console.log(n)}))},variant:"text",children:"Delete Account"})}),(0,A.jsx)(G.Z,{component:M.Z,sx:{maxWidth:400,margin:"auto",py:2},children:(0,A.jsx)(Y.Z,{"aria-label":"simple table",children:(0,A.jsx)(W.Z,{children:f.map((function(n){return(0,A.jsxs)(I.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,A.jsx)(R.Z,{children:n.label}),(0,A.jsx)(R.Z,{align:"left",children:n.value})]},n.label)}))})})}),(0,A.jsxs)(U.Z,{sx:{textAlign:"center",py:2},children:[(0,A.jsx)(x.Z,{sx:{py:2},variant:"h5",component:"div",children:"My Auctions"}),null!==Z?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(U.Z,{textAlign:"center",children:(0,A.jsx)(N.Z,{onClick:function(){var n,t=(null===(n=i.state)||void 0===n?void 0:n.path)||"/PostAuction";e(t,{replace:!1})},variant:"text",children:"Post Auction"})}),(0,A.jsx)(T,{seller_id:Z})]}):(0,A.jsx)("p",{children:"Not logged in"})]}),(0,A.jsxs)(U.Z,{sx:{textAlign:"center",py:2},children:[(0,A.jsx)(x.Z,{sx:{py:2},variant:"h5",component:"div",children:"Currently Bidding on"}),null!==Z?(0,A.jsx)(L,{bidder_id:Z}):(0,A.jsx)("p",{children:"Not logged in"})]}),(0,A.jsxs)(U.Z,{sx:{textAlign:"center",py:2},children:[(0,A.jsx)(x.Z,{sx:{py:2},variant:"h5",component:"div",children:"Won Auctions"}),null!==Z?(0,A.jsx)(S,{buyer_id:Z}):(0,A.jsx)("p",{children:"Not logged in"})]})]})}}}]);
//# sourceMappingURL=560.15183d0a.chunk.js.map